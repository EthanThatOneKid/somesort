(this.webpackJsonpsomesort=this.webpackJsonpsomesort||[]).push([[0],{10:function(t,e,n){t.exports=n(17)},15:function(t,e,n){},16:function(t,e,n){},17:function(t,e,n){"use strict";n.r(e);var i=n(0),a=n.n(i),s=n(8),r=n.n(s),o=(n(15),n(1)),l=n(2),c=n(4),u=n(3),h=n(5),p=n(9),f=function(t){function e(){var t,n;Object(o.a)(this,e);for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return(n=Object(c.a)(this,(t=Object(u.a)(e)).call.apply(t,[this].concat(a)))).state={index:n.props.index,value:n.props.value},n}return Object(h.a)(e,t),Object(l.a)(e,[{key:"mouseMoveListener",value:function(t){var e=t.nativeEvent;if(null!==e&&1===e.buttons){var n=e.target.clientHeight,i=n-e.offsetY,a=Math.floor(100*i/n);this.updateValue(a)}}},{key:"updateValue",value:function(t){this.setState({value:Math.round(t)})}},{key:"getValue",value:function(){return this.state.value}},{key:"render",value:function(){return a.a.createElement("div",{className:"pipe-container",onMouseMove:this.mouseMoveListener.bind(this)},a.a.createElement("div",{className:"pipe-".concat(this.state.value)}))}}]),e}(i.Component),v=function(t){function e(){var t,n;Object(o.a)(this,e);for(var i=arguments.length,s=new Array(i),r=0;r<i;r++)s[r]=arguments[r];return(n=Object(c.a)(this,(t=Object(u.a)(e)).call.apply(t,[this].concat(s)))).pipes=[],n.containerRef=a.a.createRef(),n.currentInstruction=0,n.sortSpeedFactor=0,n.isAnimating=!1,n.isRequestingCancel=!1,n}return Object(h.a)(e,t),Object(l.a)(e,[{key:"beginSortAnimation",value:function(t){this.props.list.clearHistory(),this.props.list.updateData(this.pipes.map((function(t){return t.getValue()})));var e=this.props.list.clone();t(e);var n=e.getHistory();this.toggleUserInput(!1),this.stepSortAnimation(n)}},{key:"cancelSortAnimation",value:function(){this.isAnimating&&(this.isRequestingCancel=!0)}},{key:"stepSortAnimation",value:function(t){var e=this;if(t.length>this.currentInstruction&&!this.isRequestingCancel){var n=Object(p.a)(t[this.currentInstruction++],2),i=n[0],a=n[1],s=this.pipes[i],r=this.pipes[a],o=s.getValue();s.updateValue(r.getValue()),r.updateValue(o);var l=1e3*this.sortSpeedFactor;setTimeout((function(){e.stepSortAnimation(t)}),l)}else this.currentInstruction=0,this.toggleUserInput(!0),this.isRequestingCancel&&(this.flushList(),this.isRequestingCancel=!1),this.props.onSortComplete()}},{key:"setPipeRef",value:function(t,e){this.pipes[e]=t}},{key:"setSortSpeed",value:function(t){this.sortSpeedFactor=-1*Math.pow(t/100,.5)+1}},{key:"flushList",value:function(){this.pipes=this.pipes.slice(0,this.props.list.getSize()),this.props.list.updateData(this.pipes.map((function(t){return t.getValue()})))}},{key:"toggleUserInput",value:function(t){null!==this.containerRef.current&&("undefined"===typeof t?(this.isAnimating=!this.isAnimating,this.containerRef.current.classList.toggle("unselectable")):t?(this.isAnimating=!1,this.containerRef.current.classList.remove("unselectable")):(this.isAnimating=!0,this.containerRef.current.classList.add("unselectable")))}},{key:"undoRecentSort",value:function(){var t=this;this.pipes.forEach((function(e,n){var i=t.props.list.at(n);e.updateValue(i)}))}},{key:"render",value:function(){var t=this;return a.a.createElement("div",{className:"sort-display",ref:this.containerRef},this.props.list.getData().map((function(e,n){return a.a.createElement(f,{value:e,index:n,key:n,ref:function(e){return t.setPipeRef(e,n)}})})))}}]),e}(i.Component),d=n(6),m=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100;Object(o.a)(this,t),this.len=void 0,this.data=void 0,this.steps=void 0,this.history=void 0,this.minSize=void 0,this.maxSize=void 0,this.speedFactor=void 0,this.len=Math.floor(e),this.data=[],this.history=[],this.steps=0,this.speedFactor=1,this.minSize=n,this.maxSize=i,this.randomize()}return Object(l.a)(t,[{key:"at",value:function(t){return this.data[t]}},{key:"clearHistory",value:function(){this.history=[]}},{key:"clone",value:function(){var e=new t(this.len);return e.data=Object(d.a)(this.data),e.history=Object(d.a)(this.history),e}},{key:"getData",value:function(){return Object(d.a)(this.data)}},{key:"getHistory",value:function(){return Object(d.a)(this.history)}},{key:"getSteps",value:function(){return this.steps}},{key:"log",value:function(){console.log(Object(d.a)(this.data))}},{key:"randomize",value:function(){this.data=new Array(this.len).fill(0).map((function(){return Math.round(100*Math.random())}))}},{key:"getSize",value:function(){return this.data.length}},{key:"resize",value:function(t){if(t<this.maxSize&&t>this.minSize){if((t=Math.floor(t))>this.data.length)for(var e=this.data.length;e<t;e++)this.data.push(Math.floor(100*Math.random()));else t<this.data.length&&(this.data=this.data.slice(0,t));return this.len=t,!0}return!1}},{key:"step",value:function(){this.steps++}},{key:"swap",value:function(t,e){var n=this.data[t];this.data[t]=this.data[e],this.data[e]=n,t!==e&&this.history.push([t,e])}},{key:"toString",value:function(){return JSON.stringify(this.data,null,2)}},{key:"updateData",value:function(t){this.data=Object(d.a)(t.slice(0,this.len))}}]),t}(),g=function(t,e,n){for(var i=t.at(n),a=e;e<n;)t.step(),t.at(e)<i&&(t.swap(a,e),a++),e++;return t.swap(a,n),a},y=function(t,e,n,i){var a=n+1;if(!(t.at(n)<=t.at(a)))for(;e<=n&&a<=i;)if(t.at(e)<=t.at(a))e++;else{for(var s=a;s!==e;)t.swap(s,--s);e++,n++,a++}},b={Quicksort:{best:"n log(n)",worst:"n^2",sort:function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.len-1;if(n<i){var a=g(e,n,i);t(e,n,a-1),t(e,a+1,i)}}},Mergesort:{best:"n log(n)",worst:"n log(n)",sort:function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.len-1;if(n<i){var a=Math.floor(.5*(i-n))+n;t(e,n,a),t(e,a+1,i),y(e,n,a,i),e.step()}}},Selectionsort:{best:"n^2",worst:"n^2",sort:function(t){for(var e=t.getSize(),n=0;n<e;n++){for(var i=n,a=n+1;a<e;a++)t.at(a)<t.at(i)&&(i=a);i!==n&&t.swap(n,i)}}},Bubblesort:{best:"n",worst:"n^2",sort:function t(e){for(var n=e.getSize(),i=!1,a=1;a<n;a++)e.at(a-1)>e.at(a)&&(e.swap(a-1,a),i=!0);i&&t(e)}},Combsort:{best:"n log(n)",worst:"n^2",sort:function(t){for(var e=t.getSize(),n=e,i=!1;!i;){(n=Math.floor(n/1.3))<=1&&(n=1,i=!0);for(var a=0;a+n<e;)t.at(a)>t.at(a+n)&&(t.swap(a,a+n),i=!1),a++}}}},k=function(t){function e(){var t,n;Object(o.a)(this,e);for(var i=arguments.length,s=new Array(i),r=0;r<i;r++)s[r]=arguments[r];return(n=Object(c.a)(this,(t=Object(u.a)(e)).call.apply(t,[this].concat(s)))).value=n.props.value*n.props.valueFactor||0,n.prevAngle=0,n.isInteractable=!0,n.valueFactor=n.props.valueFactor||1,n.strokeRefs=Array(n.props.strokes).fill(0).map((function(){return a.a.createRef()})),n.valueRef=a.a.createRef(),n.containerRef=a.a.createRef(),n}return Object(h.a)(e,t),Object(l.a)(e,[{key:"mouseMoveListener",value:function(t){var e=this,n=t.nativeEvent;if(null!==n&&1===n.buttons&&this.isInteractable){var i=n.target.offsetWidth-n.offsetX>.5*n.target.offsetWidth,a=Math.atan((n.offsetY-.5*n.target.offsetHeight)/(n.offsetX-.5*n.target.offsetWidth))+(i?Math.PI:0);if(a!==this.prevAngle){var s=a>=this.prevAngle,r=this.value+(s?this.props.sensitivity:-1*this.props.sensitivity),o=this.calculateDisplayValue(r);o<=this.props.maxValue&&this.props.minValue<=o&&(this.value=r,this.prevAngle=a,this.strokeRefs.forEach((function(t,n){null!==t.current&&(t.current.style.transform=e.createTransformationCss(n))})),null!==this.valueRef.current&&(this.valueRef.current.textContent=String(o)),this.props.onChange(o))}}}},{key:"createTransformationCss",value:function(t){var e=360*t/this.props.strokes+this.value;return"rotate(".concat(e,"deg) translate(").concat(this.props.diameter/3,"px) rotate(90deg)")}},{key:"calculateDisplayValue",value:function(t){return Math.floor(t/this.valueFactor)}},{key:"toggleInteraction",value:function(t){this.isInteractable=void 0===t?!this.isInteractable:t;return this.isInteractable?null!==this.containerRef.current&&this.containerRef.current.classList.remove("unselectable"):null!==this.containerRef.current&&this.containerRef.current.classList.add("unselectable"),this.isInteractable}},{key:"render",value:function(){var t=this;return a.a.createElement("div",{className:"dial",onMouseMove:this.mouseMoveListener.bind(this),ref:this.containerRef},this.strokeRefs.map((function(e,n){return a.a.createElement("div",{className:"dial-stroke",key:n,ref:t.strokeRefs[n]},a.a.createElement("div",{className:"dial-stroke-content-".concat(n+1)}))})),a.a.createElement("div",{className:"dial-value",ref:this.valueRef},this.calculateDisplayValue(this.value)))}}]),e}(i.Component),S=function(t){function e(){var t,n;Object(o.a)(this,e);for(var i=arguments.length,s=new Array(i),r=0;r<i;r++)s[r]=arguments[r];return(n=Object(c.a)(this,(t=Object(u.a)(e)).call.apply(t,[this].concat(s)))).display=a.a.createRef(),n.sizeDialRef=a.a.createRef(),n.list=new m(40),n.currentAlgorithm=n.props.algorithm,n}return Object(h.a)(e,t),Object(l.a)(e,[{key:"onRandomizeClickListener",value:function(){null!==this.display.current&&(this.display.current.isAnimating||(this.list.randomize(),this.display.current.undoRecentSort()))}},{key:"onResizeListener",value:function(t){var e=this;this.list.resize(t)&&(this.setState({listSize:t}),setTimeout((function(){null!==e.display.current&&e.display.current.flushList()}),0))}},{key:"onDialChange",value:function(t){null!==this.display.current&&this.display.current.setSortSpeed(t)}},{key:"onSortClickListener",value:function(t){null!==this.display.current&&(this.display.current.isAnimating||(this.currentAlgorithm=t,this.executeSort()))}},{key:"onCancelListener",value:function(){null!==this.display.current&&this.display.current.cancelSortAnimation()}},{key:"onSortCompleteListener",value:function(){null!==this.sizeDialRef.current&&this.sizeDialRef.current.toggleInteraction(!0)}},{key:"onUndoClickListener",value:function(){null!==this.display.current&&(this.display.current.isAnimating||this.display.current.undoRecentSort())}},{key:"executeSort",value:function(){if(null!==this.display.current){var t=b[this.currentAlgorithm].sort;null!==this.sizeDialRef.current&&this.sizeDialRef.current.toggleInteraction(!1),this.display.current.beginSortAnimation(t)}}},{key:"checkDisplayIsAnimating",value:function(){return null!==this.display.current&&this.display.current.isAnimating}},{key:"render",value:function(){var t=this;return a.a.createElement("div",{className:"sort-panel"},a.a.createElement("section",{className:"sort-display-container"},a.a.createElement(v,{list:this.list,ref:this.display,onSortComplete:this.onSortCompleteListener.bind(this)})),a.a.createElement("section",{className:"buttons-container"},a.a.createElement("section",{className:"sorting-algorithms"},a.a.createElement("label",null,"Sorting Algorithms:\xa0\xa0"),Object.keys(b).map((function(e){return a.a.createElement("button",{key:e,onClick:t.onSortClickListener.bind(t,e),title:e},e)}))),a.a.createElement("br",null),a.a.createElement("section",{className:"sorting-options"},a.a.createElement("label",null,"Options:\xa0\xa0"),a.a.createElement("button",{onClick:this.onUndoClickListener.bind(this)},"Undo Sort"),a.a.createElement("button",{onClick:this.onRandomizeClickListener.bind(this)},"Randomize"),a.a.createElement("button",{onClick:this.onCancelListener.bind(this)},"Cancel")),a.a.createElement("br",null),a.a.createElement("section",{className:"speed-option-container"},a.a.createElement("label",null,"Speed:"),a.a.createElement(k,{value:100,strokes:12,sensitivity:2,diameter:100,valueFactor:20,minValue:0,maxValue:100,onChange:this.onDialChange.bind(this)})),a.a.createElement("section",{className:"size-option-container"},a.a.createElement("label",null,"Size:"),a.a.createElement(k,{value:40,strokes:12,sensitivity:2,diameter:100,valueFactor:20,minValue:10,maxValue:100,onChange:this.onResizeListener.bind(this),ref:this.sizeDialRef}))))}}]),e}(i.Component),R=(n(16),function(){return a.a.createElement("div",{className:"App"},a.a.createElement("header",{className:"app-header"},"Somesort"),a.a.createElement("section",null,a.a.createElement(S,{algorithm:"Quicksort"})))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(a.a.createElement(R,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()}))}},[[10,1,2]]]);
//# sourceMappingURL=main.321bd408.chunk.js.map